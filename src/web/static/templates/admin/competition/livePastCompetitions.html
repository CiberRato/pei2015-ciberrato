<div class="content-block" role="main">


    <!-- Grid row -->
    <div class="row">

        <!-- Data block -->
        <article class="span12 data-block">
            <div class="data-container">
                <section class="tab-content">
                    <header>
                        <h2>{{vm.competitionName}}</h2>

                    </header>

                    <!-- Tab #basic -->
                    <div class="tab-pane active" id="basic">

                        <!-- Example vertical forms -->
                        <div class="row-fluid">

                        </div>

                        <div class="tab-pane active" id="static">
                            <p ng-if="vm.competitionTeamsInfo.length == 0">There are no teams enrolled in this competition.</p>
                            <p ng-if="vm.competitionTeamsInfo.length != 0">Here is shown in table the list of all teams enrolled in this Competition.</p>


                            <table ng-if="vm.competitionTeamsInfo.length != 0" class="table table-striped table-hover">
                                <thead>
                                <tr>
                                    <th>Team Name</th>
                                    <th>State of Inscription</th>
                                    <th>Remove Inscription</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="(key, value) in vm.competitionTeamsInfo" >
                                    <td><a href="panel/{{ value.group.name }}/teamMembers">{{value.group.name}}</a></td>
                                    <td ng-if="value.valid == false && vm.competition.state_of_competition=='Register'"><a href="#" ng-click="vm.validateInscription(value.group.name, vm.competition.name)"><span class="label label-important">Not Valid</span></a></td>
                                    <td ng-if="value.valid == true && vm.competition.state_of_competition=='Register' "><a href="#" ng-click="vm.validateInscription(value.group.name, vm.competition.name)"><span class="label label-success">Valid</span></a></td>
                                    <td ng-if="value.valid == false && vm.competition.state_of_competition!='Register'"><span class="label label-important">Not Valid</span></a></td>
                                    <td ng-if="value.valid == true && vm.competition.state_of_competition!='Register' "><span class="label label-success">Valid</span></a></td>

                                    <td ng-if="vm.competition.state_of_competition!='Register' "><a disabled class="btn btn-primary btn-flat" ng-click="vm.removeInscription(value.group.name)">X</a></td>
                                    <td ng-if="vm.competition.state_of_competition=='Register' "><a  class="btn btn-primary btn-flat" ng-click="vm.removeInscription(value.group.name)">X</a></td>

                                </tr>
                                </tbody>
                            </table>

                        </div>

                    </div>

                    <hr/>

                    <div class="tab-pane active" id="basic">

                        <!-- Example vertical forms -->
                        <div class="row-fluid">

                        </div>
                        <p ng-if="vm.rounds.length == 0">There are no teams enrolled in this competition.</p>
                        <p ng-if="vm.rounds.length != 0">Here is shown in table the list of all rounds in this Competition.</p>
                        <div ng-if="vm.rounds.length != 0" ng-repeat="(key, value) in vm.rounds" class="span8">
                            <div class="tab-pane active" id="static">
                                <h3><a href="admin/{{value.name}}/roundDetail">{{value.name}} </a></h3>
                                <p ng-if="value.simulations.length == 0"> This round doesn't have any trials.</p>
                                <table ng-if="value.simulations.length != 0" class="table table-striped table-hover">
                                    <thead>
                                    <tr>
                                        <th>Trial Name</th>
                                        <th>State</th>
                                        <th>Start Trial</th>
                                    </tr>
                                    </thead>
                                    <tbody ng-repeat="(key1,value1) in value.simulations">
                                    <td>{{value1.identifier}}</td>
                                    <td>{{value1.state}}</td>
                                    <td ng-if="vm.competition.state_of_competition == 'Competition'"><a href="#" ng-if="value1.state == 'WAITING'" ng-click = "vm.startSimulation(value1.identifier)">Start</a>
                                        <p ng-if="value1.state == 'STARTED'">Started</p>
                                        <p ng-if="value1.state == 'LOG'">Finished</p>
                                    </td>

                                    <td ng-if="vm.competition.state_of_competition != 'Competition'">Change State of Competition</td>

                                    </tbody>
                                </table>
                            </div>

                            <hr/>

                        </div>
                        <div class="span8">
                            <a href="javascript:history.go(-1)" class="btn btn-alt btn-large btn-primary">Back</a>

                            <a ng-if="vm.competition.state_of_competition == 'Competition' || vm.competition.state_of_competition == 'Register'" href="/admin/{{vm.competitionName}}/createRound" class="btn btn-alt btn-large btn-success">Create Round</a>

                        </div>

                    </div>

                </section>


            </div>
            <div>
            </div>

        </article>

    </div>
</div>